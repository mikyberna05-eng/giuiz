<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Benvenuti nel Giuiz üéì</title>
<style>
  /* --- Stili Animazioni (NUOVO) --- */
  @keyframes fireworks {
    0% { transform: scale(0.5) translateY(0); opacity: 1; }
    100% { transform: scale(1.5) translateY(-100px); opacity: 0; }
  }
  
  @keyframes brokenHeart {
    0% { transform: translateY(0) rotate(0); opacity: 1; }
    100% { transform: translateY(150px) rotate(20deg); opacity: 0; }
  }

  /* --- Stili Esistenti (Modificati) --- */
  body {
    font-family: "Poppins", sans-serif;
    background: url('sfondo-cicogne.jpg') center/cover no-repeat;
    margin: 0;
    display: flex;
    justify-content: center;
    /* Modificato per centrare verticalmente */
    align-items: center; 
    min-height: 100vh;
    padding: 20px;
    box-sizing: border-box; /* Aggiunto per un padding migliore */
  }
  .container {
    background: rgba(255,255,255,0.9); /* Sfondo leggermente pi√π opaco */
    border-radius: 16px;
    padding: 24px;
    max-width: 600px;
    width: 100%;
    box-shadow: 0 8px 24px rgba(0,0,0,0.15);
    text-align: center;
    /* Rimosso margin-top, ci pensa flexbox ora */
  }
  h1 {
    margin-bottom: 10px;
    font-size: 28px;
    color: #ff4b5c;
  }
  p {
    color: #555;
    margin-bottom: 20px;
  }
  .question {
    font-weight: 600;
    margin-bottom: 15px;
  }
  .choices {
    display: flex;
    flex-direction: column;
    gap: 10px;
    /* Aggiunto per fare spazio */
    width: 100%;
  }
  button.choice {
    background: #ffe3ec;
    border: 2px solid transparent;
    border-radius: 10px;
    padding: 12px; /* Un po' pi√π di spazio */
    font-size: 15px;
    cursor: pointer;
    transition: 0.2s;
    /* Aggiunto per farli occupare tutta la larghezza */
    width: 100%;
    box-sizing: border-box;
  }
  button.choice:hover {
    background: #ffd2e1;
  }
  button.choice.selected {
    border-color: #ff4b5c;
    background: #ffc1d6;
  }
  
  /* --- Stili per Risposte (NUOVO) --- */
  button.choice.correct {
    background-color: #4CAF50; /* Verde */
    color: white;
    border-color: #4CAF50;
  }
  button.choice.incorrect {
    background-color: #f44336; /* Rosso */
    color: white;
    border-color: #f44336;
  }
  
  #nextBtn {
    margin-top: 20px;
    background: #ff4b5c;
    color: #fff;
    border: none;
    padding: 10px 18px;
    border-radius: 10px;
    cursor: pointer;
    font-size: 16px;
  }
  #nextBtn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
  
  /* --- Stili Risultato (Modificati) --- */
  #resultContainer {
    /* Aggiunto per contenere gli effetti speciali */
    position: relative;
    overflow: hidden;
    padding: 10px; /* Spazio per gli effetti */
  }
  .result {
    font-size: 20px;
    font-weight: 600;
    color: #333;
    margin-top: 20px;
  }
  .emoji {
    font-size: 50px;
    margin-top: 10px;
  }
  /* Stile per le particelle (NUOVO) */
  .particle {
    position: absolute;
    font-size: 24px;
    animation-iteration-count: 1;
    /* Rimuove le particelle dal click */
    pointer-events: none; 
  }
  
  #restart {
    margin-top: 20px;
    background: #4CAF50;
    color: #fff;
    border: none;
    padding: 10px 18px;
    border-radius: 10px;
    cursor: pointer;
    font-size: 16px;
    z-index: 10; /* Per stare sopra gli effetti */
    position: relative;
  }
</style>
</head>
<body>
  <div class="container">
    <h1>Benvenuti nel Giuiz üéì</h1>
    <p>se non si √® capito, stai per fare un quiz su Giulia üòé</p>
    <div id="quiz">
      <div id="questionContainer"></div>
      <div id="choicesContainer"></div>
      <button id="nextBtn" disabled>Avanti ‚û°Ô∏è</button>
      <div id="resultContainer"></div>
    </div>
  </div>

<script>
const questions = [
  {q:"Quante volte √® stata bocciata all‚Äôesame della patente?",a:["mai bocciata","una","due ‚úÖ","tre"]},
  {q:"Che frutto √® nel gruppo Macedonia?",a:["cocco","limone","fragola","mirtillo ‚úÖ"]},
  {q:"Qual √® il suo drink preferito?",a:["Long island ‚úÖ","Spritz","Hugo","Negroni"]},
  {q:"Quanti capezzoli ha Giulia?",a:["uno","due","quattro ‚úÖ","non ne ha"]},
  {qG:"Qual √® il suo piatto preferito al sushi?",a:["tempura di gamberi","gunkan ‚úÖ","sashimi","tutto sbagliato, non mangia pesce"]},
  {q:"In macchina al massimo a che marcia arriva?",a:["non guida con il cambio manuale","non ha limiti","terza ‚úÖ","quarta"]},
  {q:"Cosa deve bere Giulia per correre al wc?",a:["cocacola","tisana ai frutti di bosco","caff√®","latte ‚úÖ"]},
  {q:"Qual √® la sua macchina dei sogni?",a:["Cinquecento","Tiguan","Tesla","Defender ‚úÖ"]},
  {q:"Quale tra queste √® una frase iconica di Giulia?",a:["√® stato stra spassoso","mi sono proprio divertita","dovremmo farlo pi√π spesso ‚úÖ","come vola il tempo quando ci si diverte"]},
  {q:"Qual √® il suo shot preferito?",a:["Sambuca ‚úÖ","Tequila","Montenegro","Nessuno di questi"]},
  {q:"Che serata preferisce in discoteca?",a:["tecno","reggaeton","commerciale ‚úÖ","anni ‚Äò80"]},
  {q:"Dove si trovava il 25 febbraio 2023?",a:["faceva da babysitter alla Ludo","a Valzurio","era di turno in Mangiagalli","all‚ÄôOlympus ‚úÖ"]},
  {q:"Giulia ha inventato la giornata internazionale (2 agosto)‚Ä¶",a:["‚Ä¶dell‚Äôamicizia","‚Ä¶del chill ‚úÖ","‚Ä¶del relax","‚Ä¶della felicit√†"]},
  {q:"Qual √® la sua canzone preferita pre serata?",a:["50 special","Sexy bitch ‚úÖ","I love it","Samba do Brasil"]},
  {q:"In che sezione era all‚Äôasilo?",a:["pesci ‚úÖ","coccinelle","scoiattoli","tartarughe"]}
];

let current = 0;
let score = 0;

const qContainer = document.getElementById("questionContainer");
const cContainer = document.getElementById("choicesContainer");
const nextBtn = document.getElementById("nextBtn");
const resultContainer = document.getElementById("resultContainer");

function showQuestion() {
  const q = questions[current];
  qContainer.textContent = `Domanda ${current+1}/${questions.length}: ${q.q}`;
  cContainer.innerHTML = "";
  q.a.forEach(ans => {
    const btn = document.createElement("button");
    btn.className = "choice";
    btn.textContent = ans.replace(" ‚úÖ","");
    btn.onclick = () => selectAnswer(btn, ans.includes("‚úÖ"));
    cContainer.appendChild(btn);
  });
  nextBtn.disabled = true;
  resultContainer.textContent = "";
}

function selectAnswer(button, isCorrect) {
  Array.from(cContainer.children).forEach(b=>b.classList.remove("selected"));
  button.classList.add("selected");
  button.dataset.correct = isCorrect;
  nextBtn.disabled = false;
}

// --- LOGICA "AVANTI" MODIFICATA ---
nextBtn.onclick = () => {
  const selected = cContainer.querySelector(".selected");
  if (!selected) return;

  const isCorrect = selected.dataset.correct === "true";
  nextBtn.disabled = true; // Disabilita subito il tasto
  
  // Blocca tutti i bottoni e mostra la risposta giusta
  Array.from(cContainer.children).forEach((button, index) => {
    button.style.pointerEvents = "none"; // Blocca il click
    
    // Mostra la risposta corretta in verde
    if (questions[current].a[index].includes("‚úÖ")) {
      button.classList.add("correct");
    }
  });

  if (isCorrect) {
    score++;
  } else {
    // Se sbagliata, colora la selezione di rosso
    selected.classList.add("incorrect"); 
  }
  
  // Aggiungi un ritardo per far vedere la risposta
  setTimeout(() => {
    current++; // Vai alla prossima domanda
    if (current < questions.length) {
      showQuestion();
    } else {
      showResult();
    }
  }, 1500); // 1.5 secondi di pausa
};

// --- LOGICA "RISULTATO" MODIFICATA ---
function showResult() {
  qContainer.textContent = "";
  cContainer.innerHTML = "";
  nextBtn.style.display = "none";

  let message = "";
  let emoji = "";
  let effectType = ""; // Per gli effetti speciali

  if(score >= 11) {
    message = "üéâ Complimenti! Mi conosci stra bene!";
    emoji = "üòé";
    effectType = "fireworks";
  } else if(score >= 6) {
    message = "ü§î Potevi fare meglio!";
    emoji = "üòÖ";
    effectType = "none";
  } else {
    message = "üò§ Vergognati!";
    emoji = "üíÄ";
    effectType = "brokenHeart";
  }

  resultContainer.innerHTML = `
    <div class="result">Hai totalizzato ${score}/${questions.length}!<br>${message}</div>
    <div class="emoji">${emoji}</div>
    <button id="restart">Ricomincia üîÅ</button>
  `;
  document.getElementById("restart").onclick = restartQuiz;

  // --- Esegui Effetti Speciali ---
  if(effectType === "fireworks") {
    // Genera 30 "fuochi d'artificio"
    for (let i = 0; i < 30; i++) {
      const p = document.createElement('div');
      p.className = 'particle';
      p.textContent = '‚ú®';
      p.style.left = `${Math.random() * 100}%`;
      p.style.top = `${Math.random() * 50 + 50}%`; // Parte dal basso
      p.style.animation = `fireworks 1.2s ease-out ${Math.random() * 0.8}s forwards`;
      resultContainer.prepend(p);
    }
  } else if (effectType === "brokenHeart") {
    // Genera 20 cuori spezzati che cadono
    for (let i = 0; i < 20; i++) {
      const p = document.createElement('div');
      p.className = 'particle';
      p.textContent = 'üíî';
      p.style.left = `${Math.random() * 100}%`;
      p.style.top = '-10%'; // Parte dall'alto
      p.style.animation = `brokenHeart 2.5s ease-in ${Math.random() * 2}s forwards`;
      resultContainer.prepend(p);
    }
  }
}

function restartQuiz() {
  current = 0;
  score = 0;
  nextBtn.style.display = "inline-block";
  // Pulisce il contenitore (rimuovendo anche le particelle)
  resultContainer.innerHTML = ""; 
  showQuestion();
}

showQuestion();
</script>
</body>
</html>
